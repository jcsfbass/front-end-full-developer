<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Página principal</title>
		<link rel="stylesheet" type="text/css" href="estilo.css">
	</head>
	<body id="home">
		<section id="info">
			<h1><%= nome %></h1>
			<img src="<%= imagem %>" alt="imagem do perfil">
			<a href="/logout"><button type="button">Sair</button></a>
		</section>

		<aside>
			<div>
				<h2 v-if="amigos.length > 0">Amigos</h2>
				<div v-for="amigo in amigos">
					<img src="images/profile/{{ amigo._id }}.jpg" alt="imagem do perfil">
					<p>{{ amigo.nome }}</p>
					<br>
					<a href="/conversar/{{ amigo._id }}">
						<button type="button" class="azul">Conversar</button>
					</a>
				</div>
			</div>

			<div>
				<h2 v-if="pessoas.length > 0">Não amigos</h2>
				<div v-for="pessoa in pessoas">
					<img src="images/profile/{{ pessoa._id }}.jpg" alt="imagem do perfil">
					<p>{{ pessoa.nome }}</p>
					<br>
						<button type="button" v-on:click="solicitar(pessoa)" class="azul">
							Adicionar
						</button>
				</div>
			</div>

			<div>
				<h2 v-if="solicitacoes.length > 0">Solicitações</h2>
				<div v-for="solicitacao in solicitacoes">
					<img src="images/profile/{{ solicitacao._id }}.jpg" alt="imagem do perfil">
					<p>{{ solicitacao.nome }}</p>
					<br>
					<button type="button" class="azul" v-on:click="aceitar(solicitacao)">Aceitar</button>
				</div>
			</div>

		</aside>

		<main>
			<h2>Postagens</h2>

			<form method="post" action="/postagem">
				<label for="texto">Escreva um novo:</label>
				<textarea v-model="texto" name="texto" id="texto" placeholder="Como você está se sentindo?"></textarea>
				<button type="button" v-on:click="post">Post</button>
			</form>

			<section id="postagens">
				<div v-for="postagem in postagens">
					<img src="<%= imagem %>" alt="imagem do perfil">
					<h3>
						<%= nome %>
						<br>
						<time datetime="{{ postagem.data }}">{{ postagem.data }}</time>
					</h3>
					<p>{{ postagem.texto }}</p>
				</div>
			</section>
		</main>

		<script src="js/vue.min.js" type="text/javascript"></script>
		<script src="js/vue-resource.min.js" type="text/javascript"></script>
		<script src="home.js" type="text/javascript"></script>
	</body>
</html>
